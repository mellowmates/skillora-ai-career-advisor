{% extends 'base.html' %}

{% block title %}Career Assessment - Skillora AI{% endblock %}

{% block content %}
<div class="container">
  <div class="assessment-section">
    <div class="assessment-header text-center mb-4">
      <h1>üß† Career Assessment</h1>
      <p>Complete our comprehensive assessment to get personalized career recommendations</p>
      <div class="progress-container">
        <div class="progress">
          <div class="progress-bar" id="overall-progress" style="width: 0%"></div>
        </div>
        <small class="progress-text">Assessment Progress</small>
      </div>
    </div>

    <!-- Assessment Navigation -->
    <div class="assessment-nav">
      <button class="nav-btn active" data-section="personality">Personality</button>
      <button class="nav-btn" data-section="skills">Skills</button>
      <button class="nav-btn" data-section="preferences">Preferences</button>
    </div>

    <!-- Personality Assessment -->
    <div id="personality-section" class="assessment-content active">
      <div class="section-header">
        <h2>üé≠ Personality Assessment</h2>
        <p>Rate each statement on a scale of 1-10 based on how much you agree</p>
      </div>

      <form id="personality-form" class="assessment-form" data-type="personality">
        <div class="questions-container">
          <!-- Openness Questions -->
          <div class="question-group">
            <h4>Openness to Experience</h4>
            
            <div class="question-item">
              <label class="question-label">I enjoy exploring new ideas and concepts</label>
              <div class="rating-scale">
                <input type="range" name="openness_1" min="1" max="10" value="5" class="rating-slider">
                <div class="rating-labels">
                  <span>Strongly Disagree</span>
                  <span>Neutral</span>
                  <span>Strongly Agree</span>
                </div>
                <div class="rating-value">5</div>
              </div>
            </div>

            <div class="question-item">
              <label class="question-label">I appreciate art, music, and creative expressions</label>
              <div class="rating-scale">
                <input type="range" name="openness_2" min="1" max="10" value="5" class="rating-slider">
                <div class="rating-labels">
                  <span>Strongly Disagree</span>
                  <span>Neutral</span>
                  <span>Strongly Agree</span>
                </div>
                <div class="rating-value">5</div>
              </div>
            </div>

            <div class="question-item">
              <label class="question-label">I like to try new and different activities</label>
              <div class="rating-scale">
                <input type="range" name="openness_3" min="1" max="10" value="5" class="rating-slider">
                <div class="rating-labels">
                  <span>Strongly Disagree</span>
                  <span>Neutral</span>
                  <span>Strongly Agree</span>
                </div>
                <div class="rating-value">5</div>
              </div>
            </div>
          </div>

          <!-- Conscientiousness Questions -->
          <div class="question-group">
            <h4>Conscientiousness</h4>
            
            <div class="question-item">
              <label class="question-label">I am always prepared and organized</label>
              <div class="rating-scale">
                <input type="range" name="conscientiousness_1" min="1" max="10" value="5" class="rating-slider">
                <div class="rating-labels">
                  <span>Strongly Disagree</span>
                  <span>Neutral</span>
                  <span>Strongly Agree</span>
                </div>
                <div class="rating-value">5</div>
              </div>
            </div>

            <div class="question-item">
              <label class="question-label">I pay attention to details and follow through on commitments</label>
              <div class="rating-scale">
                <input type="range" name="conscientiousness_2" min="1" max="10" value="5" class="rating-slider">
                <div class="rating-labels">
                  <span>Strongly Disagree</span>
                  <span>Neutral</span>
                  <span>Strongly Agree</span>
                </div>
                <div class="rating-value">5</div>
              </div>
            </div>

            <div class="question-item">
              <label class="question-label">I work systematically towards my goals</label>
              <div class="rating-scale">
                <input type="range" name="conscientiousness_3" min="1" max="10" value="5" class="rating-slider">
                <div class="rating-labels">
                  <span>Strongly Disagree</span>
                  <span>Neutral</span>
                  <span>Strongly Agree</span>
                </div>
                <div class="rating-value">5</div>
              </div>
            </div>
          </div>

          <!-- Extraversion Questions -->
          <div class="question-group">
            <h4>Extraversion</h4>
            
            <div class="question-item">
              <label class="question-label">I feel energized when around other people</label>
              <div class="rating-scale">
                <input type="range" name="extraversion_1" min="1" max="10" value="5" class="rating-slider">
                <div class="rating-labels">
                  <span>Strongly Disagree</span>
                  <span>Neutral</span>
                  <span>Strongly Agree</span>
                </div>
                <div class="rating-value">5</div>
              </div>
            </div>

            <div class="question-item">
              <label class="question-label">I enjoy being the center of attention in social situations</label>
              <div class="rating-scale">
                <input type="range" name="extraversion_2" min="1" max="10" value="5" class="rating-slider">
                <div class="rating-labels">
                  <span>Strongly Disagree</span>
                  <span>Neutral</span>
                  <span>Strongly Agree</span>
                </div>
                <div class="rating-value">5</div>
              </div>
            </div>

            <div class="question-item">
              <label class="question-label">I prefer working in teams rather than alone</label>
              <div class="rating-scale">
                <input type="range" name="extraversion_3" min="1" max="10" value="5" class="rating-slider">
                <div class="rating-labels">
                  <span>Strongly Disagree</span>
                  <span>Neutral</span>
                  <span>Strongly Agree</span>
                </div>
                <div class="rating-value">5</div>
              </div>
            </div>
          </div>

          <!-- Continue with Agreeableness and Neuroticism... -->
          <div class="question-group">
            <h4>Agreeableness</h4>
            
            <div class="question-item">
              <label class="question-label">I try to be cooperative and avoid conflicts</label>
              <div class="rating-scale">
                <input type="range" name="agreeableness_1" min="1" max="10" value="5" class="rating-slider">
                <div class="rating-labels">
                  <span>Strongly Disagree</span>
                  <span>Neutral</span>
                  <span>Strongly Agree</span>
                </div>
                <div class="rating-value">5</div>
              </div>
            </div>

            <div class="question-item">
              <label class="question-label">I am sympathetic and concerned about others' problems</label>
              <div class="rating-scale">
                <input type="range" name="agreeableness_2" min="1" max="10" value="5" class="rating-slider">
                <div class="rating-labels">
                  <span>Strongly Disagree</span>
                  <span>Neutral</span>
                  <span>Strongly Agree</span>
                </div>
                <div class="rating-value">5</div>
              </div>
            </div>

            <div class="question-item">
              <label class="question-label">I trust people and assume they have good intentions</label>
              <div class="rating-scale">
                <input type="range" name="agreeableness_3" min="1" max="10" value="5" class="rating-slider">
                <div class="rating-labels">
                  <span>Strongly Disagree</span>
                  <span>Neutral</span>
                  <span>Strongly Agree</span>
                </div>
                <div class="rating-value">5</div>
              </div>
            </div>
          </div>

          <div class="question-group">
            <h4>Neuroticism</h4>
            
            <div class="question-item">
              <label class="question-label">I often worry about things that might go wrong</label>
              <div class="rating-scale">
                <input type="range" name="neuroticism_1" min="1" max="10" value="5" class="rating-slider">
                <div class="rating-labels">
                  <span>Strongly Disagree</span>
                  <span>Neutral</span>
                  <span>Strongly Agree</span>
                </div>
                <div class="rating-value">5</div>
              </div>
            </div>

            <div class="question-item">
              <label class="question-label">I get stressed easily under pressure</label>
              <div class="rating-scale">
                <input type="range" name="neuroticism_2" min="1" max="10" value="5" class="rating-slider">
                <div class="rating-labels">
                  <span>Strongly Disagree</span>
                  <span>Neutral</span>
                  <span>Strongly Agree</span>
                </div>
                <div class="rating-value">5</div>
              </div>
            </div>

            <div class="question-item">
              <label class="question-label">My mood changes frequently throughout the day</label>
              <div class="rating-scale">
                <input type="range" name="neuroticism_3" min="1" max="10" value="5" class="rating-slider">
                <div class="rating-labels">
                  <span>Strongly Disagree</span>
                  <span>Neutral</span>
                  <span>Strongly Agree</span>
                </div>
                <div class="rating-value">5</div>
              </div>
            </div>
          </div>
        </div>

        <div class="form-actions">
          <button type="submit" class="btn btn-primary">Complete Personality Assessment</button>
          <button type="button" class="btn btn-secondary skip-btn" data-skip="personality">Skip Personality Assessment</button>
        </div>
      </form>
    </div>

    <!-- Skills Assessment -->
    <div id="skills-section" class="assessment-content">
      <div class="section-header">
        <h2>üõ†Ô∏è Skills Assessment</h2>
        <p>Evaluate your current skills and their proficiency levels</p>
      </div>

      <form id="skills-form" class="assessment-form" data-type="skills">
        <div class="skills-categories">
          <div class="skills-category">
            <h4>Technical Skills</h4>
            <div class="skills-input-group">
              <textarea name="technical_skills" placeholder="List your technical skills (e.g., Python, Java, SQL, Data Analysis, Machine Learning...)" rows="3"></textarea>
            </div>
          </div>

          <div class="skills-category">
            <h4>Soft Skills</h4>
            <div class="skills-input-group">
              <textarea name="soft_skills" placeholder="List your soft skills (e.g., Communication, Leadership, Teamwork, Problem Solving...)" rows="3"></textarea>
            </div>
          </div>

          <div class="skills-category">
            <h4>Domain Knowledge</h4>
            <div class="skills-input-group">
              <textarea name="domain_skills" placeholder="List your domain expertise (e.g., Finance, Marketing, Healthcare, Education...)" rows="3"></textarea>
            </div>
          </div>
        </div>

        <div class="form-actions">
          <button type="submit" class="btn btn-primary">Complete Skills Assessment</button>
          <button type="button" class="btn btn-secondary skip-btn" data-skip="skills">Skip Skills Assessment</button>
        </div>
      </form>
    </div>

    <!-- Preferences Assessment -->
    <div id="preferences-section" class="assessment-content">
      <div class="section-header">
        <h2>‚öôÔ∏è Career Preferences</h2>
        <p>Help us understand your work preferences and career goals</p>
      </div>

      <form id="preferences-form" class="assessment-form" data-type="preferences">
        <div class="preferences-grid">
          <div class="preference-group">
            <label>Preferred Work Environment</label>
            <div class="checkbox-group">
              <label><input type="checkbox" name="work_env" value="startup"> Startup</label>
              <label><input type="checkbox" name="work_env" value="corporate"> Corporate</label>
              <label><input type="checkbox" name="work_env" value="government"> Government</label>
              <label><input type="checkbox" name="work_env" value="ngo"> NGO</label>
              <label><input type="checkbox" name="work_env" value="freelance"> Freelance</label>
            </div>
          </div>

          <div class="preference-group">
            <label>Work Style Preference</label>
            <div class="radio-group">
              <label><input type="radio" name="work_style" value="individual"> Individual Work</label>
              <label><input type="radio" name="work_style" value="team"> Team Work</label>
              <label><input type="radio" name="work_style" value="mixed"> Mixed</label>
            </div>
          </div>

          <div class="preference-group">
            <label>Career Priority</label>
            <div class="radio-group">
              <label><input type="radio" name="priority" value="salary"> High Salary</label>
              <label><input type="radio" name="priority" value="growth"> Career Growth</label>
              <label><input type="radio" name="priority" value="balance"> Work-Life Balance</label>
              <label><input type="radio" name="priority" value="impact"> Social Impact</label>
              <label><input type="radio" name="priority" value="learning"> Continuous Learning</label>
            </div>
          </div>
        </div>

        <div class="form-actions">
          <button type="submit" class="btn btn-primary">Complete Assessment</button>
          <button type="button" class="btn btn-secondary skip-btn" data-skip="preferences">Skip Preferences</button>
        </div>
      </form>
    </div>

    <!-- Results Section -->
    <div id="assessment-results" class="results-section" style="display: none;">
      <h2>üéâ Assessment Complete!</h2>
      <p>Your assessment results have been processed. Click below to view your personalized career recommendations.</p>
      <a href="{{ url_for('dashboard') }}" class="btn btn-primary btn-lg">View My Recommendations</a>
    </div>
  </div>
</div>

<style>
.assessment-section {
  max-width: 900px;
  margin: 2rem auto;
  padding: 2rem;
}

.assessment-nav {
  display: flex;
  justify-content: center;
  margin-bottom: 2rem;
  border-bottom: 2px solid var(--border-color);
}

.nav-btn {
  background: none;
  border: none;
  padding: 1rem 2rem;
  cursor: pointer;
  border-bottom: 3px solid transparent;
  color: var(--text-secondary);
  font-weight: 500;
}

.nav-btn.active {
  color: var(--primary-color);
  border-bottom-color: var(--primary-color);
}

.assessment-content {
  display: none;
}

.assessment-content.active {
  display: block;
}

.question-group {
  margin-bottom: 2rem;
  padding: 1.5rem;
  border: 1px solid var(--border-color);
  border-radius: 0.5rem;
  background: var(--bg-secondary);
}

.question-item {
  margin-bottom: 1.5rem;
}

.question-label {
  display: block;
  margin-bottom: 0.5rem;
  font-weight: 500;
}

.rating-scale {
  position: relative;
}

.rating-slider {
  width: 100%;
  margin: 0.5rem 0;
}

.rating-labels {
  display: flex;
  justify-content: space-between;
  font-size: 0.75rem;
  color: var(--text-secondary);
}

.rating-value {
  position: absolute;
  top: -2rem;
  right: 0;
  background: var(--primary-color);
  color: white;
  padding: 0.25rem 0.5rem;
  border-radius: 0.25rem;
  font-size: 0.875rem;
}

.skills-category {
  margin-bottom: 1.5rem;
}

.skills-input-group textarea {
  width: 100%;
  min-height: 100px;
  padding: 1rem;
  border: 1px solid var(--border-color);
  border-radius: 0.5rem;
  resize: vertical;
}

.preferences-grid {
  display: grid;
  gap: 2rem;
}

.preference-group label {
  display: block;
  margin-bottom: 0.5rem;
  font-weight: 500;
}

.checkbox-group label,
.radio-group label {
  display: block;
  margin-bottom: 0.5rem;
  font-weight: normal;
  cursor: pointer;
}

.checkbox-group input,
.radio-group input {
  margin-right: 0.5rem;
}

.form-actions {
  display: flex;
  gap: 1rem;
  justify-content: center;
  flex-wrap: wrap;
}

.skip-btn {
  background: var(--bg-gray) !important;
  color: var(--text-secondary) !important;
  border: 1px solid var(--border-color) !important;
}

.skip-btn:hover {
  background: var(--border-color) !important;
  color: var(--text-primary) !important;
}

.results-section {
  text-align: center;
  padding: 3rem;
  background: var(--bg-secondary);
  border-radius: 1rem;
}

@media (max-width: 768px) {
  .assessment-nav {
    flex-direction: column;
  }
  
  .nav-btn {
    padding: 0.75rem;
  }
}
</style>

<script>
// Assessment navigation and slider updates
document.addEventListener('DOMContentLoaded', function() {
  // Navigation between assessment sections
  const navBtns = document.querySelectorAll('.nav-btn');
  const sections = document.querySelectorAll('.assessment-content');
  
  navBtns.forEach(btn => {
    btn.addEventListener('click', () => {
      // Remove active class from all
      navBtns.forEach(b => b.classList.remove('active'));
      sections.forEach(s => s.classList.remove('active'));
      
      // Add active class to clicked
      btn.classList.add('active');
      const sectionId = btn.dataset.section + '-section';
      document.getElementById(sectionId).classList.add('active');
    });
  });
  
  // Update slider values
  const sliders = document.querySelectorAll('.rating-slider');
  sliders.forEach(slider => {
    const valueDisplay = slider.parentElement.querySelector('.rating-value');
    
    slider.addEventListener('input', () => {
      valueDisplay.textContent = slider.value;
    });
  });
  
  // Handle skip buttons
  const skipBtns = document.querySelectorAll('.skip-btn');
  skipBtns.forEach(btn => {
    btn.addEventListener('click', () => {
      const skipType = btn.dataset.skip;
      if (window.app && window.app.skipAssessmentSection) {
        window.app.skipAssessmentSection(skipType);
      }
    });
  });
  
  // Form submissions are handled by the main app.js
  console.log('Assessment page loaded, form handling delegated to main app');
});
</script>
{% endblock %}
